import{L as o,d as r,r as e,c as t,h as a,n as s,_ as c,p as i,a as n}from"./common.js";import"./icon.js";import"./common2.js";import"./ripple.js";HTMLSlotElement.prototype.assignedElements||Object.defineProperty(HTMLSlotElement.prototype,"assignedElements",{value:function(o){return this.assignedNodes(o).filter(o=>1===o.nodeType)}});let h=class extends o{constructor(){super(...arguments),this.primary=!1,this.iconElements=[],this.hasIcon=!1}updated(o){this.hasIconCheck()}o(o){const r=o.target;this.iconElements=r.assignedElements(),this.hasIconCheck()}hasIconCheck(){this.hasIcon=this.iconElements.length>0||void 0!==this.icon}static get styles(){return[r,e,t`:host{position:relative;display:inline-flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding:8px;width:200px;border:1px solid #ccc;border-radius:4px}:host([start]){justify-content:flex-start}:host([end]){justify-content:flex-end}:host([center]){justify-content:center}slot[name=icon] mega-icon,slot[name=icon]::slotted(*){color:#999;margin-left:0;margin-right:8px}:host([right]) #icon{order:2;margin-left:8px;margin-right:0}`]}render(){return a`<mega-ripple ?primary=${this.primary}></mega-ripple><slot name=icon>${this.icon?a`<mega-icon>${this.icon}</mega-icon>`:s}</slot><slot></slot>`}};c([i({type:Boolean,reflect:!0})],h.prototype,"primary",void 0),c([i({type:String})],h.prototype,"icon",void 0),c([i({type:Boolean,reflect:!0,attribute:"has-icon"})],h.prototype,"hasIcon",void 0),h=c([n("mega-scratch")],h);let l=class extends o{constructor(){super(...arguments),this.theme="",this.bg=!1,this.disabled=!1}firstUpdated(o){const r=function(o){const r=window.getComputedStyle(o);if(!r||!r.backgroundColor)return!1;const e=r.backgroundColor.match(/^rgb\((\d+),\s?(\d+),\s?(\d+)\)$/);return!!e&&function(o){const[r,e,t]=o;return[(299*r+587*e+114*t)/1e3,(596*r+-274*e+-322*t)/1e3,(211*r+523*e+312*t)/1e3]}(e.slice(1,4).map(o=>parseInt(o)))[0]>160}(this);this.style.setProperty("--overlay",r?"rgb(0, 0, 0)":"rgb(255, 255, 255)"),this.style.setProperty("--hover-opacity",r?"0.04":"0.08"),this.style.setProperty("--focus-opacity",r?"0.12":"0.24"),this.style.setProperty("--selected-opacity",r?"0.08":"0.16"),this.style.setProperty("--activated-opacity",r?"0.12":"0.24"),this.style.setProperty("--pressed-opacity",r?"0.16":"0.32")}static get styles(){return[r,t`:host{position:relative;display:inline-flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding:12px;min-width:200px;color:var(--mega-background-on);background-color:var(--mega-background);outline:0;user-select:none}:host([theme=primary]){color:var(--mega-primary)}:host([theme=primary-light]){color:var(--mega-primary-light)}:host([theme=primary-dark]){color:var(--mega-primary-dark)}:host([theme=secondary]){color:var(--mega-secondary)}:host([theme=secondary-light]){color:var(--mega-secondary-light)}:host([theme=secondary-dark]){color:var(--mega-secondary-dark)}:host([theme^=primary][bg]){color:var(--mega-primary-on)}:host([theme=primary][bg]){background-color:var(--mega-primary)}:host([theme=primary-light][bg]){background-color:var(--mega-primary-light)}:host([theme=primary-dark][bg]){background-color:var(--mega-primary-dark)}:host([theme^=secondary][bg]){color:var(--mega-primary-on)}:host([theme=secondary][bg]){background-color:var(--mega-secondary)}:host([theme=secondary-light][bg]){background-color:var(--mega-secondary-light)}:host([theme=secondary-dark][bg]){background-color:var(--mega-secondary-dark)}:host([theme=background]){color:var(--mega-background-on);background-color:var(--mega-background)}:host([bg][theme=background]){color:var(--mega-background);background-color:var(--mega-background-on)}:host([theme=surface]){color:var(--mega-surface-on);background-color:var(--mega-surface)}:host([bg][theme=surface]){color:var(--mega-surface);background-color:var(--mega-surface-on)}:host([theme=error]){color:var(--mega-error-on);background-color:var(--mega-error)}:host([bg][theme=error]){color:var(--mega-error);background-color:var(--mega-error-on)}:host::after,:host::before{position:absolute;top:0;right:0;bottom:0;left:0;content:'';opacity:0;background-color:var(--overlay)}:host([theme^=primary])::after,:host([theme^=primary])::before{background-color:var(--mega-primary)}:host([theme^=secondary])::after,:host([theme^=secondary])::before{background-color:var(--mega-secondary)}:host([selected])::before{opacity:var(--selected-opacity)}:host([activated])::before{opacity:var(--activated-opacity)}:host([bg])::after{background-color:var(--overlay)}:host(:focus)::after{opacity:var(--focus-opacity)}:host(:hover)::after{opacity:var(--hover-opacity)}:host(:active)::after{opacity:var(--pressed-opacity)}:host([disabled]){color:#444!important;background-color:#ccc!important}:host([disabled])::after,:host([disabled])::before{background-color:transparent!important}`]}render(){return a`<div><slot @slotchange=${this.o}></slot></div>`}};c([i({type:String,reflect:!0})],l.prototype,"theme",void 0),c([i({type:Boolean,reflect:!0})],l.prototype,"bg",void 0),c([i({type:Boolean,reflect:!0})],l.prototype,"disabled",void 0),l=c([n("mega-scratch-color")],l);export{l as ScratchColorElement,h as ScratchElement};
