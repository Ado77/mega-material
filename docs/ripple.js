import{a as t,b as i,c as e,d as a,f as r,e as n}from"./common.js";const s=["touchstart","pointerdown","mousedown","keydown"],o=["touchend","pointerup","mouseup","contextmenu"];let c=[],l=class extends t{constructor(){super(),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.t=!1,this.i=0,this.s=0,this.o="0",this.l={width:0,height:0},this.p=0,this.m=0,this.h=0,this.u={left:0,top:0},this.g=this.v(),this.k=(()=>{this.t=!0,this._()}),this.A=(t=>this.F(t)),this.M=(()=>this.B()),this.C=(()=>this.P()),this.$=(()=>this.q()),this.D=(()=>this.R())}connectedCallback(){super.connectedCallback(),this.H(!0),requestAnimationFrame(()=>{this.unbounded&&this.T()})}disconnectedCallback(){super.disconnectedCallback(),this.S(),this.U()}H(t){t&&(s.forEach(t=>{this.addEventListener(t,this.A)}),this.unbounded&&window.addEventListener("resize",this.D)),this.addEventListener("focus",this.C),this.addEventListener("blur",this.$)}F(t){if(this.disabled)return;const i=this.g;if(i.isActivated)return;const e=this.X;e&&void 0!==t&&e.type!==t.type||(i.isActivated=!0,i.isProgrammatic=void 0===t,i.activationEvent=t,i.wasActivatedByPointer=!i.isProgrammatic&&void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type),void 0!==t&&c.length>0&&c.some(t=>!1)?this.I():(void 0!==t&&(c.push(t.target),this.L(t)),i.wasElementMadeActive=this.V(t),i.wasElementMadeActive&&this.j(),requestAnimationFrame(()=>{c=[],i.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(i.wasElementMadeActive=this.V(t),i.wasElementMadeActive&&this.j()),i.wasElementMadeActive||(this.g=this.v())})))}L(t){"keydown"===t.type?this.addEventListener("keyup",this.M):o.forEach(t=>{document.addEventListener(t,this.M)})}S(){s.forEach(t=>{this.removeEventListener(t,this.A)}),this.removeEventListener("focus",this.C),this.removeEventListener("blur",this.$),this.unbounded&&window.removeEventListener("resize",this.D)}U(){this.removeEventListener("keyup",this.M),o.forEach(t=>{document.removeEventListener(t,this.M)})}V(t){return void 0===t||"keydown"!==t.type||(":active",((i=this).matches||i.webkitMatchesSelector).call(i,":active"));var i}j(){this.T();let t="",i="";if(!this.unbounded){const{startPoint:e,endPoint:a}=this.G();t=`${e.x}px, ${e.y}px`,i=`${a.x}px, ${a.y}px`}this.J("--mdc-ripple-fg-translate-start",t),this.J("--mdc-ripple-fg-translate-end",i),clearTimeout(this.i),clearTimeout(this.s),this.K(),this.N("foreground-deactivation"),this.getBoundingClientRect(),this.O("foreground-activation"),this.i=window.setTimeout(()=>this.k(),225)}G(){const{activationEvent:t,wasActivatedByPointer:i}=this.g;let e;return{startPoint:e={x:(e=i?function(t,i,e){if(!t)return{x:0,y:0};const{x:a,y:r}=i,n=a+e.left,s=r+e.top;let o,c;if("touchstart"===t.type){const i=t;o=i.changedTouches[0].pageX-n,c=i.changedTouches[0].pageY-s}else{const i=t;o=i.pageX-n,c=i.pageY-s}return{x:o,y:c}}(t,{x:window.pageXOffset,y:window.pageYOffset},this.getBoundingClientRect()):{x:this.l.width/2,y:this.l.height/2}).x-this.p/2,y:e.y-this.p/2},endPoint:{x:this.l.width/2-this.p/2,y:this.l.height/2-this.p/2}}}_(){const{hasDeactivationUXRun:t,isActivated:i}=this.g;(t||!i)&&this.t&&(this.K(),this.O("foreground-deactivation"),this.s=window.setTimeout(()=>this.N("foreground-deactivation"),150))}K(){this.N("foreground-activation"),this.t=!1,this.getBoundingClientRect()}I(){this.X=this.g.activationEvent,this.g=this.v(),setTimeout(()=>this.X=void 0,300)}B(){const t=this.g;if(!t.isActivated)return;const i={...t};t.isProgrammatic?(requestAnimationFrame(()=>this.W(i)),this.I()):(this.U(),requestAnimationFrame(()=>{this.g.hasDeactivationUXRun=!0,this.W(i),this.I()}))}W({wasActivatedByPointer:t,wasElementMadeActive:i}){(t||i)&&this._()}T(){this.l=this.getBoundingClientRect();const t=Math.max(this.l.height,this.l.width);this.h=this.unbounded?t:(()=>Math.sqrt(Math.pow(this.l.width,2)+Math.pow(this.l.height,2))+10)(),this.p=Math.floor(.6*t),this.o=`${this.h/this.p}`,this.Y()}Y(){this.J("--mdc-ripple-fg-size",`${this.p}px`),this.J("--mdc-ripple-fg-scale",this.o),this.unbounded&&(this.u={left:Math.round(this.l.width/2-this.p/2),top:Math.round(this.l.height/2-this.p/2)},this.J("--mdc-ripple-left",`${this.u.left}px`),this.J("--mdc-ripple-top",`${this.u.top}px`))}O(t){this.setAttribute(t,"")}N(t){this.removeAttribute(t)}R(){this.m&&cancelAnimationFrame(this.m),this.m=requestAnimationFrame(()=>{this.T(),this.m=0})}P(){requestAnimationFrame(()=>this.O("background-focused"))}q(){requestAnimationFrame(()=>this.N("background-focused"))}J(t,i){this.style.setProperty(t,i)}v(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}}static get Z(){return i`@-webkit-keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@-webkit-keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@-webkit-keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}@keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}`}static get styles(){return[i`@-webkit-keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@-webkit-keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@-webkit-keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}@keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}`,i`:host{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;--mdc-ripple-fg-opacity:0.12;-webkit-tap-highlight-color:transparent;will-change:transform,opacity;position:relative;outline:0;overflow:hidden;box-sizing:border-box;display:inline-block}div::after,div::before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:"";background-color:#000;top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}div::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}div::after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center;transition:opacity 150ms linear;width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}:host([foreground-activation]) div::after{-webkit-animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards;animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:host([foreground-deactivation]) div::after{-webkit-animation:mdc-ripple-fg-opacity-out 150ms;animation:mdc-ripple-fg-opacity-out 150ms;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:host(:hover) div::before{opacity:.04}:host(:focus) div::before,:host([background-focused]) div::before{transition-duration:75ms;opacity:.12}:host(:active) div::after{transition-duration:75ms;opacity:.12}:host([unbounded]) div{overflow:visible}:host([unbounded]) div::after,:host([unbounded]) div::before{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0);width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}:host([unbounded]) div::after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0);width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}:host([primary]) div::after,:host([primary]) div::before{background-color:#6200ee}:host([accent]) div::after,:host([accent]) div::before{background-color:#018786}`]}render(){return e`<div><slot></slot></div>`}};a([r({type:Boolean,reflect:!0})],l.prototype,"primary",void 0),a([r({type:Boolean,reflect:!0})],l.prototype,"accent",void 0),a([r({type:Boolean,reflect:!0})],l.prototype,"unbounded",void 0),a([r({type:Boolean,reflect:!0})],l.prototype,"disabled",void 0),l=a([n("mwc-ripple")],l);export{l as RippleElement};
